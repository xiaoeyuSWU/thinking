<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>思记 | 记录我的思考历程</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4A6FA5',
                        secondary: '#E07A5F',
                        neutral: '#F4F1DE',
                        dark: '#3D405B',
                        accent: '#81B29A',
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-balance {
                text-wrap: balance;
            }
            .card-hover {
                @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-1;
            }
            .nav-shadow {
                box-shadow: 0 4px 20px -2px rgba(0, 0, 0, 0.1);
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="font-inter bg-neutral/30 text-dark min-h-screen flex flex-col">
    <!-- 导航栏 -->
    <header id="navbar" class="fixed w-full bg-white/90 backdrop-blur-sm z-50 transition-all duration-300">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between nav-shadow">
            <a href="#" class="flex items-center space-x-2">
                <span class="text-primary text-2xl"><i class="fa fa-lightbulb-o"></i></span>
                <span class="font-bold text-xl text-dark">思记</span>
            </a>
            
            <!-- 桌面端导航 -->
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#" class="font-medium text-dark hover:text-primary transition-colors">首页</a>
                <div class="relative group">
                    <button class="font-medium text-dark hover:text-primary transition-colors flex items-center">
                        分类
                        <i class="fa fa-chevron-down ml-1 text-xs"></i>
                    </button>
                    <div class="absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50">
                        <a href="#" data-category="all" class="block px-4 py-2 text-sm hover:bg-primary/10 hover:text-primary">全部</a>
                        <a href="#" data-category="ai" class="block px-4 py-2 text-sm hover:bg-primary/10 hover:text-primary">AI</a>
                        <a href="#" data-category="hobby" class="block px-4 py-2 text-sm hover:bg-primary/10 hover:text-primary">爱好</a>
                        <a href="#" data-category="milestone" class="block px-4 py-2 text-sm hover:bg-primary/10 hover:text-primary">大事记</a>
                        <a href="#" data-category="study" class="block px-4 py-2 text-sm hover:bg-primary/10 hover:text-primary">学业</a>
                    </div>
                </div>
                <a href="#about" class="font-medium text-dark hover:text-primary transition-colors">关于</a>
            </nav>
            
            <!-- 搜索框 -->
            <div class="relative hidden md:block w-64">
                <input id="search-input" type="text" placeholder="搜索内容..." class="w-full pl-10 pr-4 py-2 rounded-full border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all">
                <i class="fa fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
            </div>
            
            <!-- 移动端菜单按钮 -->
            <button id="mobile-menu-button" class="md:hidden text-dark focus:outline-none">
                <i class="fa fa-bars text-xl"></i>
            </button>
        </div>
        
        <!-- 移动端导航菜单 -->
        <div id="mobile-menu" class="md:hidden bg-white shadow-lg absolute w-full left-0 top-full transform -translate-y-full opacity-0 transition-all duration-300 pointer-events-none">
            <div class="container mx-auto px-4 py-3">
                <div class="relative mb-4">
                    <input id="mobile-search-input" type="text" placeholder="搜索内容..." class="w-full pl-10 pr-4 py-2 rounded-full border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all">
                    <i class="fa fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                </div>
                <nav class="flex flex-col space-y-3">
                    <a href="#" class="font-medium text-dark hover:text-primary transition-colors py-2">首页</a>
                    <div class="relative">
                        <button id="mobile-category-button" class="font-medium text-dark hover:text-primary transition-colors flex items-center justify-between py-2">
                            分类
                            <i class="fa fa-chevron-down text-xs"></i>
                        </button>
                        <div id="mobile-category-menu" class="mt-1 ml-4 hidden">
                            <a href="#" data-category="all" class="block py-2 text-sm hover:text-primary">全部</a>
                            <a href="#" data-category="ai" class="block py-2 text-sm hover:text-primary">AI</a>
                            <a href="#" data-category="hobby" class="block py-2 text-sm hover:text-primary">爱好</a>
                            <a href="#" data-category="milestone" class="block py-2 text-sm hover:text-primary">大事记</a>
                            <a href="#" data-category="study" class="block py-2 text-sm hover:text-primary">学业</a>
                        </div>
                    </div>
                    <a href="#about" class="font-medium text-dark hover:text-primary transition-colors py-2">关于</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="flex-grow pt-20 pb-10">
        <div class="container mx-auto px-4">
            <!-- 页面标题 -->
            <div class="text-center mb-12 mt-6">
                <h1 class="text-[clamp(2rem,5vw,3rem)] font-bold text-dark mb-3">思考&记录</h1>
                <p class="text-gray-600 max-w-2xl mx-auto text-balance">一个立体的李博远<br>记录不同阶段的思考与感悟<br>见证思想的成长与变化</p>
            </div>
            
            <!-- 分类标签 -->
            <div class="flex flex-wrap justify-center gap-2 mb-10">
                <button data-category="all" class="category-btn bg-primary text-white px-4 py-2 rounded-full text-sm font-medium transition-all hover:shadow-md">全部</button>
                <button data-category="ai" class="category-btn bg-white text-dark px-4 py-2 rounded-full text-sm font-medium transition-all hover:shadow-md hover:bg-primary/5">AI</button>
                <button data-category="hobby" class="category-btn bg-white text-dark px-4 py-2 rounded-full text-sm font-medium transition-all hover:shadow-md hover:bg-primary/5">爱好</button>
                <button data-category="milestone" class="category-btn bg-white text-dark px-4 py-2 rounded-full text-sm font-medium transition-all hover:shadow-md hover:bg-primary/5">大事记</button>
                <button data-category="study" class="category-btn bg-white text-dark px-4 py-2 rounded-full text-sm font-medium transition-all hover:shadow-md hover:bg-primary/5">学业</button>
            </div>
            
            <!-- 思考内容流 -->
            <div id="thoughts-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- 思考条目将通过JavaScript动态添加 -->
            </div>
            
            <!-- 加载更多 -->
            <div id="loading" class="text-center py-10 hidden">
                <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
                <p class="mt-2 text-gray-500">加载中...</p>
            </div>
            
            <!-- 没有更多内容 -->
            <div id="no-more-content" class="text-center py-10 hidden">
                <p class="text-gray-500">我也是有底线滴~</p>
            </div>
        </div>
    </main>

    <!-- 关于部分 -->
    <section id="about" class="bg-white py-16">
        <div class="container mx-auto px-4">
            <div class="max-w-3xl mx-auto text-center">
                <h2 class="text-[clamp(1.5rem,3vw,2rem)] font-bold text-dark mb-6">关于思记</h2>
                <p class="text-gray-600 mb-8 leading-relaxed">
                    这里是李博远通过文字，记录自己在AI、学业等方面的思考的地方。<br>
                    这不仅是一个记录的过程，也是一个反思成长的过程。<br>
                    这个网站为了未来的自己而做，唯一的受众也是未来的自己。
                </p>
                <div class="flex justify-center space-x-4">
                    <a href="mailto:1920295921@qq.com" target="_blank" class="text-primary hover:text-primary/80 transition-colors">
                        <i class="fa fa-envelope-o text-xl"></i>
                    </a>
                    <a href="https://github.com/xiaoeyuSWU" target="_blank" class="text-primary hover:text-primary/80 transition-colors">
                        <i class="fa fa-github text-xl"></i>
                    </a>
                    <a href="https://liboyuan.site/" target="_blank" class="text-primary hover:text-primary/80 transition-colors">
                        <i class="fa fa-globe text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="bg-dark text-white py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <a href="#" class="flex items-center space-x-2">
                        <span class="text-white text-xl"><i class="fa fa-lightbulb-o"></i></span>
                        <span class="font-bold text-lg">思记</span>
                    </a>
                    <p class="text-gray-400 text-sm mt-1">记录思考，见证成长</p>
                </div>
                <div class="text-gray-400 text-sm">
                    &copy; 2025 思记 | 保留所有权利
                </div>
            </div>
        </div>
    </footer>

    <!-- 返回顶部按钮 -->
    <button id="back-to-top" class="fixed bottom-6 right-6 bg-primary text-white w-10 h-10 rounded-full flex items-center justify-center shadow-lg opacity-0 invisible transition-all duration-300 hover:bg-primary/90 focus:outline-none">
        <i class="fa fa-chevron-up"></i>
    </button>

    <script>
        // 思考内容数据
        const thoughts = [
            {
                id: 1,
                title: "冥想拯救世界",
                content: "冥想（包含Youga Nidra）大约从那时开始，就成为了我日常生活中的重要部分。通过冥想，我们能够放松身心，提升专注力和内在的平静。在繁忙的学业和项目之间，冥想可以帮助我保持平衡和清晰的思维。截至2024年9月24日，潮汐app记录了我数千分钟的冥想时长。",
                category: "hobby",
                date: "2022-09-01",
                media: null
            },
            {
                id: 2,
                title: "担任班级的学习委员",
                content: "作为班级的学习委员，我积极按照要求工作，协助老师完成教学工作，帮助同学们答疑解惑。这段经历不仅锻炼了我的组织能力，也让我更加深刻地理解了团队协作的重要性。",
                category: "milestone",
                date: "2023-09-12",
                media: null
            },
            {
                id: 3,
                title: "初探Python与数据科学",
                content: "开始学习Python编程语言，探索数据处理与可视化的世界。通过完成一些小型项目，我逐渐掌握了Python的基本语法和常用库，为后续的学习（尤其是机器学习和云计算方面）和研究打下了基础。",
                category: "ai",
                date: "2022-10-10",
                media: null
            },
            {
                id: 4,
                title: "加入西南大学融媒体中心",
                content: "成为西南大学党委学生工作部融媒体中心微博部的一员，负责西南大学官方微博的编辑和发布。这段经历增加了我的团队协作能力，同时也提高了我的表达能力。",
                category: "milestone",
                date: "2022-09-15",
                media: null
            },
            {
                id: 6,
                title: "喜欢的其他电影、电视剧和音乐",
                content: "我还喜欢很多电影，比如情书、错过你的那些年等。喜欢的电视剧包括老友记和爱情公寓。喜欢王菲、单依纯孙燕姿、张碧晨、莫文蔚和许嵩等人的歌。",
                category: "hobby",
                date: "2012-09-11",
                media: null
            },
            {
                id: 5,
                title: "喜欢宫崎骏的电影",
                content: "大约从那时开始，我就成了宫崎骏的忠实粉丝。千与千寻这部电影，从小到大（哪怕是到现在）我还会n刷，估计到现在，早看了几十次了。除此之外，我还喜欢很多电影，比如情书、错过你的那些年等。还喜欢一些电视剧，比如老友记和爱情公寓。",
                category: "hobby",
                date: "2012-09-11",
                media: null
            },

            {
                id: 9,
                title: "获得全国大学生数学建模竞赛国奖",
                content: "提前几个月开始备战2024年全国大学生数学建模竞赛，与2位计算机学院的队友一起学习。最终竞赛获得国奖。这次竞赛让我深刻体会到了数学建模在解决实际问题中的强大力量。",
                category: "milestone",
                date: "2024-05-15",
                media: null
            },
            {
                id: 10,
                title: "发表自动驾驶轨迹预测SCI论文",
                content: "以核心作者身份在IEEE Transactions on Vehicular Technology期刊上发表了一篇关于自动驾驶车辆轨迹预测的SCI论文。我们提出的DTDGP-IE方法在相同计算成本下取得了比其他机器学习方法更优的性能，这是对我们团队长期努力的肯定。",
                category: "milestone",
                date: "2024-06-20",
                media: null
            },
 
            {
                id: 12,
                title: "获得腾讯CSIG事业群暑期实习机会",
                content: "经过多轮面试，我成功获得了腾讯CSIG事业群的暑期实习机会。我将负责腾讯AI产品和云计算产品的落地与解决方案，这对我来说是一个难得的学习和成长机会，我非常期待能在这个岗位上有所作为。",
                category: "milestone",
                date: "2025-04-10",
                media: null
            },
            {
                id: 13,
                title: "开发基于DeepSeek的智能助手",
                content: "通过调用API，我开发了一个图形化聊天界面，实现了与大语言模型的便捷交互。此外，我还完成了DeepSeek模型的本地部署，显著提高了响应速度。这个项目让我对大语言模型的应用有了更深入的理解。",
                category: "ai",
                date: "2025-04-20",
                media: null
            },

            {
                id: 16,
                title: "担任比亚迪校园大使",
                content: "作为比亚迪2025届校园大使，我组织了多场校园宣讲活动，向同学们介绍比亚迪的企业文化和招聘信息。这段经历让我对汽车行业有了更深入的了解，也锻炼了我的沟通和组织能力。",
                category: "milestone",
                date: "2024-05-20",
                media: null
            }
        ];

        // 当前显示的思考数量
        let currentCount = 0;
        // 每次加载的数量
        const loadCount = 5000000
        // 当前筛选的分类
        let currentCategory = 'all';
        // 当前搜索关键词
        let currentSearchTerm = '';

        // DOM 元素
        const thoughtsContainer = document.getElementById('thoughts-container');
        const loadingIndicator = document.getElementById('loading');
        const noMoreContentIndicator = document.getElementById('no-more-content');
        const backToTopButton = document.getElementById('back-to-top');
        const navbar = document.getElementById('navbar');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileCategoryButton = document.getElementById('mobile-category-button');
        const mobileCategoryMenu = document.getElementById('mobile-category-menu');
        const searchInput = document.getElementById('search-input');
        const mobileSearchInput = document.getElementById('mobile-search-input');
        const categoryButtons = document.querySelectorAll('.category-btn');

        // 分类名称映射
        const categoryNames = {
            'ai': 'AI',
            'hobby': '爱好',
            'milestone': '大事记',
            'study': '学业'
        };

        // 分类颜色映射
        const categoryColors = {
            'ai': 'bg-blue-500',
            'hobby': 'bg-purple-500',
            'milestone': 'bg-orange-500',
            'study': 'bg-green-500'
        };

        // 创建思考卡片
        function createThoughtCard(thought) {
            const card = document.createElement('article');
            card.className = `bg-white rounded-lg overflow-hidden shadow-md card-hover transition-all duration-300`;
            card.setAttribute('data-category', thought.category);
            
            // 卡片内容
            card.innerHTML = `
                <div class="p-6">
                    <div class="flex items-center mb-3">
                        <span class="inline-block px-2 py-1 rounded-full text-xs font-medium ${categoryColors[thought.category]} text-white">
                            ${categoryNames[thought.category]}
                        </span>
                        <span class="ml-2 text-sm text-gray-500">${formatDate(thought.date)}</span>
                    </div>
                    <h3 class="text-xl font-bold mt-4 mb-3 text-dark">${thought.title}</h3>
                    <p class="text-gray-600 mb-4 line-clamp-4">${thought.content}</p>
                    <button class="read-more-btn text-primary font-medium hover:text-primary/80 transition-colors flex items-center">
                        阅读更多
                        <i class="fa fa-long-arrow-right ml-1"></i>
                    </button>
                </div>
            `;
            
            // 添加阅读更多事件
            const readMoreBtn = card.querySelector('.read-more-btn');
            readMoreBtn.addEventListener('click', () => {
                showThoughtDetail(thought);
            });
            
            return card;
        }

        // 格式化日期
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('zh-CN', options);
        }

        // 显示思考详情
        function showThoughtDetail(thought) {
            // 创建遮罩层
            const overlay = document.createElement('div');
            overlay.className = 'fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4';
            
            // 创建模态框
            const modal = document.createElement('div');
            modal.className = 'bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-auto';
            
            // 模态框内容
            modal.innerHTML = `
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex items-center">
                            <span class="inline-block px-2 py-1 rounded-full text-xs font-medium ${categoryColors[thought.category]} text-white">
                                ${categoryNames[thought.category]}
                            </span>
                            <span class="ml-2 text-sm text-gray-500">${formatDate(thought.date)}</span>
                        </div>
                        <button class="close-modal text-gray-400 hover:text-gray-600 transition-colors">
                            <i class="fa fa-times text-xl"></i>
                        </button>
                    </div>
                    <h2 class="text-2xl font-bold mt-6 mb-4 text-dark">${thought.title}</h2>
                    <p class="text-gray-700 leading-relaxed">${thought.content}</p>
                </div>
            `;
            
            // 添加到页面
            overlay.appendChild(modal);
            document.body.appendChild(overlay);
            
            // 关闭模态框
            const closeModalBtn = modal.querySelector('.close-modal');
            closeModalBtn.addEventListener('click', () => {
                document.body.removeChild(overlay);
            });
            
            // 点击遮罩层关闭
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    document.body.removeChild(overlay);
                }
            });
            
            // 键盘ESC关闭
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    document.body.removeChild(overlay);
                }
            });
        }

        // 筛选思考内容
        function filterThoughts(category, searchTerm) {
            return thoughts.filter(thought => {
                const categoryMatch = category === 'all' || thought.category === category;
                const searchMatch = !searchTerm || 
                    thought.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
                    thought.content.toLowerCase().includes(searchTerm.toLowerCase());
                return categoryMatch && searchMatch;
            });
        }

        // 修改后的思考内容排序逻辑
        function loadThoughts() {
            // 筛选思考内容
            const filteredThoughts = filterThoughts(currentCategory, currentSearchTerm);
            
            // 按日期降序排序（最新的在前）
            const sortedThoughts = [...filteredThoughts].sort((a, b) => {
                return new Date(b.date) - new Date(a.date); // 降序排列，最新的在前
            });
            
            const totalCount = sortedThoughts.length;
            
            // 显示加载指示器
            loadingIndicator.classList.remove('hidden');
            noMoreContentIndicator.classList.add('hidden');
            
            // 模拟加载延迟
            setTimeout(() => {
                // 计算本次加载的数量
                const remainingCount = totalCount - currentCount;
                const countToLoad = Math.min(loadCount, remainingCount);
                
                // 添加新的思考卡片
                for (let i = 0; i < countToLoad; i++) {
                    const thought = sortedThoughts[currentCount + i];
                    const card = createThoughtCard(thought);
                    thoughtsContainer.appendChild(card);
                }
                
                // 更新当前显示的数量
                currentCount += countToLoad;
                
                // 隐藏加载指示器
                loadingIndicator.classList.add('hidden');
                
                // 检查是否还有更多内容
                if (currentCount >= totalCount) {
                    noMoreContentIndicator.classList.remove('hidden');
                }
            }, 800);
        }    

        // 重置并重新加载思考内容
        function resetAndLoadThoughts() {
            // 清空容器
            thoughtsContainer.innerHTML = '';
            // 重置计数
            currentCount = 0;
            // 加载思考内容
            loadThoughts();
        }

        // 处理滚动加载
        function handleScroll() {
            const { scrollTop, scrollHeight, clientHeight } = document.documentElement;
            
            // 当滚动到页面底部附近时加载更多内容
            if (scrollTop + clientHeight >= scrollHeight - 300 && !loadingIndicator.classList.contains('hidden') && currentCount < thoughts.length) {
                loadThoughts();
            }
            
            // 控制返回顶部按钮的显示/隐藏
            if (scrollTop > 300) {
                backToTopButton.classList.remove('opacity-0', 'invisible');
                backToTopButton.classList.add('opacity-100', 'visible');
                navbar.classList.add('py-2');
                navbar.classList.remove('py-3');
            } else {
                backToTopButton.classList.add('opacity-0', 'invisible');
                backToTopButton.classList.remove('opacity-100', 'visible');
                navbar.classList.remove('py-2');
                navbar.classList.add('py-3');
            }
        }

        // 返回顶部
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // 统一处理分类筛选
        function handleCategoryFilter() {
            // 获取所有分类按钮和链接
            const categoryElements = document.querySelectorAll('[data-category]');
            
            categoryElements.forEach(element => {
                element.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    // 更新当前分类
                    currentCategory = element.getAttribute('data-category');
                    
                    // 更新所有分类按钮样式
                    categoryElements.forEach(btn => {
                        if (btn.getAttribute('data-category') === currentCategory) {
                            // 主分类标签按钮
                            if (btn.classList.contains('category-btn')) {
                                btn.classList.add('bg-primary', 'text-white');
                                btn.classList.remove('bg-white', 'text-dark');
                            }
                            
                            // 导航菜单中的分类链接
                            if (btn.tagName === 'A') {
                                btn.classList.add('text-primary');
                                btn.classList.remove('text-dark');
                            }
                        } else {
                            // 主分类标签按钮
                            if (btn.classList.contains('category-btn')) {
                                btn.classList.remove('bg-primary', 'text-white');
                                btn.classList.add('bg-white', 'text-dark');
                            }
                            
                            // 导航菜单中的分类链接
                            if (btn.tagName === 'A') {
                                btn.classList.remove('text-primary');
                                btn.classList.add('text-dark');
                            }
                        }
                    });
                    
                    // 移动端菜单处理
                    if (!mobileMenu.classList.contains('opacity-0')) {
                        toggleMobileMenu();
                    }
                    
                    if (!mobileCategoryMenu.classList.contains('hidden')) {
                        toggleMobileCategoryMenu();
                    }
                    
                    // 重置并加载思考内容
                    resetAndLoadThoughts();
                });
            });
        }

        // 处理搜索
        function handleSearch() {
            function performSearch() {
                // 获取搜索关键词
                const searchTerm = searchInput.value.trim() || mobileSearchInput.value.trim();
                
                // 如果关键词变化了，才执行搜索
                if (searchTerm !== currentSearchTerm) {
                    currentSearchTerm = searchTerm;
                    resetAndLoadThoughts();
                }
            }
            
            // 搜索输入框事件
            searchInput.addEventListener('input', performSearch);
            mobileSearchInput.addEventListener('input', performSearch);
            
            // 搜索输入框回车事件
            searchInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
            
            mobileSearchInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
        }

        // 切换移动端菜单
        function toggleMobileMenu() {
            if (mobileMenu.classList.contains('opacity-0')) {
                mobileMenu.classList.remove('opacity-0', '-translate-y-full', 'pointer-events-none');
                mobileMenu.classList.add('opacity-100', 'translate-y-0', 'pointer-events-auto');
                mobileMenuButton.innerHTML = '<i class="fa fa-times text-xl"></i>';
            } else {
                mobileMenu.classList.add('opacity-0', '-translate-y-full', 'pointer-events-none');
                mobileMenu.classList.remove('opacity-100', 'translate-y-0', 'pointer-events-auto');
                mobileMenuButton.innerHTML = '<i class="fa fa-bars text-xl"></i>';
            }
        }

        // 切换移动端分类菜单
        function toggleMobileCategoryMenu() {
            if (mobileCategoryMenu.classList.contains('hidden')) {
                mobileCategoryMenu.classList.remove('hidden');
                mobileCategoryButton.innerHTML = '分类 <i class="fa fa-chevron-up text-xs"></i>';
            } else {
                mobileCategoryMenu.classList.add('hidden');
                mobileCategoryButton.innerHTML = '分类 <i class="fa fa-chevron-down text-xs"></i>';
            }
        }

        // 初始化
        function init() {
            // 加载初始思考内容
            loadThoughts();
            
            // 注册滚动事件
            window.addEventListener('scroll', handleScroll);
            
            // 注册返回顶部按钮事件
            backToTopButton.addEventListener('click', scrollToTop);
            
            // 注册移动端菜单按钮事件
            mobileMenuButton.addEventListener('click', toggleMobileMenu);
            
            // 注册移动端分类菜单按钮事件
            mobileCategoryButton.addEventListener('click', toggleMobileCategoryMenu);
            
            // 注册分类筛选事件 - 使用统一的处理函数
            handleCategoryFilter();
            
            // 注册搜索事件
            handleSearch();
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>